#include <stdio.h>
#include <stdlib.h>
#include <string.h>
long int random(void);

char* strst(char *haystack, char *needle)
{
  char *p1, *p2, *p3; 
  int i, j;  
  int flag = 0; 

  if(haystack == NULL || needle == NULL)
    return NULL;

  p1 = haystack; 
  p2 = needle;

  for(i = 0; i < strlen(haystack); i++)
  {
    if(*p1 == *p2)
    {
      p3 = p1; 
      for(j = 0; j < strlen(needle); j++)
      {
        if(*p3 == *p2)
        {
          p3++; 
          p2++; 
        } else {
          break; 
        }
      }
      p2 = needle;

      if(j == strlen(needle))
      {
        flag = 1; 
        printf("Substring found at index: %d\n", i);
      }
    }

    p1++;
  }

  if(flag==0)
  {
    printf("Substring NOT found\n");
  }
  return 0;
}

int main(int argc, char *argv[])
{
  char needle[] = "akn"; 
  char haystack[] = "flgildlhldfn;avlduh";
  strst(haystack, needle);
  return 0; 
}