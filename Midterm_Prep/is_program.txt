#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <fcntl.h>
#include <unistd.h>
#include <sys/stat.h>
#include <sys/types.h>
int is_program(char *fname) {

/*use struct stat*/

struct stat sb;

if((stat(fname, &sb) != -1)) 
{
  if(S_ISREG(sb.st_mode)) 
  {
    if(sb.st_mode & S_IXUSR || sb.st_mode & S_IXGRP || sb.st_mode & S_IXOTH) 
    {
      return 1; /*true*/
    }
  }
}
return 0; /*false*/
}

int main(int argc, char* argv[])
{
  char *fn = argv[1]; 
  if(is_program(fn) > 0 )
  {
    printf("is a file\n");
  }else{
    printf("isn't a file\n");
  }
  return 0; 
}
